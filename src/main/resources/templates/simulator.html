<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Simulator config</title>
        <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.6.0/css/bootstrap.min.css}" />
    	<link th:rel="stylesheet" th:href="@{/styles/css/main.css}" />
    	<script type="text/javascript" th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
    	<script type="text/javascript" th:src="@{/js/main.js}"></script>
    </head>
    <body>
    	<div th:replace="fragments/header :: header"></div>
        <div class="container simulator-form" layout:fragment="content">            
            <form method="post" id="config-form" class="needs-validation" th:object="${config}" novalidate>
            
            	<input type="hidden" th:field="*{id}" id="configId">
            	<h3 th:inline="text">Configuration</h3>
            	<hr class="solid">
             	<div class="form-row">
			        <div class="col-md-3 form-group">
			            <label>serial_number</label>
			            <input type="text" class="form-control" th:field="*{serialNumber}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>ethernet_ip</label>
			            <input type="text" class="form-control" th:field="*{ethernetIp}" required>
			            <div class="invalid-feedback">Required field.</div>
			        </div>
			    </div>
			    
			    <h3 th:inline="text">Status</h3>
			    <hr class="solid">
             	<div class="form-row">
			        <div class="col-md-3 form-group">
			            <label>busy_state</label>
			            <input type="checkbox" class="form-control" th:field="*{busyState}" >
			        </div>
			        <div class="col-md-3 form-group">
			            <label>cassette_in</label>
			            <input type="text" class="form-control" th:field="*{cassetteIn}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>settings_version</label>
			            <input type="text" class="form-control" th:field="*{settingsVersion}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>realease_version</label>
			            <input type="text" class="form-control" th:field="*{releaseVersion}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>cassette_time</label>
			            <input type="text" class="form-control" th:field="*{cassetteTime}" required>
			        </div>
			    </div>
			    
			    <h3 th:inline="text">Scan</h3>
			    <hr class="solid">
             	<div class="form-row">
			        <div class="col-md-3 form-group">
			            <label>cassette_type</label>
			            <select class="form-control" th:field="*{cassetteTypeId}" onchange="selectedCassetteType(this.value)" required>
					    	<option value="0">Select cassette type</option>
						    <option th:each="cassetteType:${cassetteTypes}"
			                    th:value="${cassetteType.code}"
			                    th:text="${cassetteType.type}">
							</option>		    
					    </select>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>test_type</label>
			            <select class="form-control" th:field="*{testType}" onchange="toggleProcessId(this.value)" required>
			            	<option value="0">Select test type</option>
			            	<option value="Quick">Quick</option>
			            	<option value="Timed">Timed</option>
			            </select>
			        </div>            
			    </div>
			    
			    <div class="form-row">				       
		            <div class="col-md-3 form-group">
			            <label>positive</label>
			            <input type="checkbox" class="form-control" th:field="*{scanSingle.positive}" >
			        </div>
			        <div class="col-md-3 form-group">
			            <label>control</label>
			            <input type="text" class="form-control" th:field="*{scanSingle.control}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>noise</label>
			            <input type="text" class="form-control" th:field="*{scanSingle.noise}" required>
			        </div>
			        <div class="col-md-3 form-group">
			            <label>test_line_value</label>
			            <input type="text" class="form-control" th:field="*{scanSingle.testLineValue}" required>
			        </div>
			    </div>
			    <div id="processIdDiv" style="display:none;">
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>process_id</label>
				            <input type="text" class="form-control" th:field="*{processId}" id="processIdInput">
				        </div>
				        <div class="col-md-3 form-group">
				            <label>previous_process_id</label>
				            <input type="text" class="form-control" th:field="*{previousProcessId}" id="prevousProcessIdInput">
				        </div>
				    </div>
			    </div>
			    
			    <div id="cplScanDiv" style="display:none;">
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>lot_number</label>
				            <input type="text" class="form-control" th:field="*{scanSingle.lotNumber}" id="lotNumberInput">
				        </div>
				        <div class="col-md-3 form-group">
				            <label>scaled_result</label>
				            <input type="text" class="form-control" th:field="*{scanSingle.scaledResult}" id="scaledResult">
				        </div>
				    </div>
			    </div>
			    
			    <div class="form-row">				       
		            <div class="col-md-3 form-group">
			            <label>cassette_error_code</label>
			            <input type="text" class="form-control" th:field="*{cassetteErrorCode}" >
			        </div>
			        <div class="col-md-3 form-group">
			            <label>test_error_code</label>
			            <input type="text" class="form-control" th:field="*{scanSingle.testErrorCode}" >
			        </div>
			    </div>
			    
			    <div class="form-row">				       
		            <div class="col-md-3 form-group">
			            <label>Same cassette process</label>
			            <input type="checkbox" class="form-control" id="sameCassetteCheckbox" onclick="showSameCassette(this)" >
			        </div>
			    </div>
			    
			    <div id="sameCassetteDiv" style="display:none">
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>positive</label>
				            <input type="checkbox" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>control</label>
				            <input type="text" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>noise</label>
				            <input type="text" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>test_line_value</label>
				            <input type="text" class="form-control" >
				        </div>
				    </div>
				    
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>process_id</label>
				            <input type="text" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>previous_process_id</label>
				            <input type="text" class="form-control" >
				        </div>
				    </div>
				    
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>lot_number</label>
				            <input type="text" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>scaled_result</label>
				            <input type="text" class="form-control" >
				        </div>
				    </div>
				    
				    <div class="form-row">				       
			            <div class="col-md-3 form-group">
				            <label>cassette_error_code</label>
				            <input type="text" class="form-control" >
				        </div>
				        <div class="col-md-3 form-group">
				            <label>test_error_code</label>
				            <input type="text" class="form-control" >
				        </div>
				    </div>			    
			    </div>
			     
			     
                <button class="btn btn-primary" type="submit">Save</button>
                <a class="btn btn-warning" href="/dashboard">Back</a>
            </form>
		    
        </div>
        <div th:replace="fragments/footer :: footer"></div>
    </body>
</html>